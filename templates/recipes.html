{% extends 'base.html' %}
{% block content %}
    <div class="container">
    <div class="row row-cols-1 row-cols-md-3">
        <div class="col mt-1">
	<h1>Recipes</h1>
        </div>
        <div class="col mt-3">
    <form class="form-inline" method="GET">
        <input type="hidden" name="page" value="1">
        <input class="form-control mx-2" type="text" name="search" minlength="3" placeholder="Search...">
        <button class="btn btn-success" type="submit">Search</button>
    </form>
        </div>
    </div>
    <div class="boxed ">
		<div class="row row-cols-1 row-cols-md-3">
			{% for rec in recipes %}
            <a href="{{url_for('get_recipe', recipe_id=rec._id)}}">
			<div class="col mb-4 card-new">
				<div class="card">
					<img src="{{rec.image}}" class="card-img-top img-h" alt="...">
					<div class="card-body">
						<h5 class="card-title">{{rec.name}}</h5>
						<p class="card-text">{{rec.ingredients if rec.ingredients.__len__() < 50 else rec.ingredients[:50] + '...'}}</p>
					</div>
				</div>
			</div>
            </a>
			{% endfor %}
		</div>
        <div class="text-center mb-3">
        <span>
		{% if not prev %}
            <a>&lt;</a>
        {% else %}
            <a href="{{prev}}">&lt;</a>
        {% endif %}
		<span>{{page}}</span>
        {% if not nxt %}
            <a>&gt;</a>
        {% else %}
            <a href="{{nxt}}">&gt;</a>
        {% endif %}
     
        </div>
    </div>
</div>

{% endblock %}